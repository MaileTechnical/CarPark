-- BP 7.1.6 content: ModelClass syschar: 3 persistence-version: 7.1.6

INSERT INTO O_OBJ
	VALUES ("4c19c8d4-3363-474a-ac24-e179d2242f14",
	'ActivityCheck',
	35,
	'ActivityCheck',
	'An observation which checks for operator console activation/deactivation.',
	"00000000-0000-0000-0000-000000000000");
INSERT INTO O_TFR
	VALUES ("eadca89d-13b0-451f-8e67-7a61adfb9b22",
	"4c19c8d4-3363-474a-ac24-e179d2242f14",
	'CreateEntry',
	'Add an observation of this type to the ''script'' of a test case.
See Observation.AppendPolling for description.',
	"ba5eda7a-def5-0000-0000-000000000000",
	0,
	'create object instance activ of ActivityCheck;

create object instance observation of Observation;
relate activ to observation across R400;
activ.location = param.location;
activ.stand = "Entry";
activ.active = param.activate;
activ.barrier = param.barrier;
activ.ticketEntry = param.ticket;

observation.AddImmediate( seqLabel:param.seqLabel, pollInterval:1, timeLimit:5, concurrent:True );',
	1,
	'',
	"00000000-0000-0000-0000-000000000000",
	0);
INSERT INTO O_TPARM
	VALUES ("35facfc8-9a03-41b2-a427-13a8738849c4",
	"eadca89d-13b0-451f-8e67-7a61adfb9b22",
	'location',
	"ba5eda7a-def5-0000-0000-000000000004",
	0,
	'',
	"c4d44c2b-2f5c-41ef-b6b3-3edb040900a4",
	'');
INSERT INTO O_TPARM
	VALUES ("c4d44c2b-2f5c-41ef-b6b3-3edb040900a4",
	"eadca89d-13b0-451f-8e67-7a61adfb9b22",
	'activate',
	"ba5eda7a-def5-0000-0000-000000000001",
	0,
	'',
	"35627ff3-4470-448a-839e-9f2538fe0ee3",
	'Indicate whether to check for activate or deactivate.');
INSERT INTO O_TPARM
	VALUES ("35627ff3-4470-448a-839e-9f2538fe0ee3",
	"eadca89d-13b0-451f-8e67-7a61adfb9b22",
	'seqLabel',
	"ba5eda7a-def5-0000-0000-000000000004",
	0,
	'',
	"00000000-0000-0000-0000-000000000000",
	'');
INSERT INTO O_TPARM
	VALUES ("d5c639d1-11f2-48cd-a884-71f2333810fc",
	"eadca89d-13b0-451f-8e67-7a61adfb9b22",
	'barrier',
	"f0c65a10-2e1e-4a19-8c3f-db9b478b5038",
	0,
	'',
	"35facfc8-9a03-41b2-a427-13a8738849c4",
	'');
INSERT INTO S_DT_PROXY
	VALUES ("f0c65a10-2e1e-4a19-8c3f-db9b478b5038",
	"00000000-0000-0000-0000-000000000000",
	'BarrierState',
	'',
	'',
	'../../../../../../../CarPark/models/CarPark/SharedTypes/SharedTypes.xtuml');
INSERT INTO O_TPARM
	VALUES ("7ad94dfe-39b0-4825-9ab1-d150df8fd9ab",
	"eadca89d-13b0-451f-8e67-7a61adfb9b22",
	'ticket',
	"cafec5d5-16a2-4bdd-9339-b4d98d011baa",
	0,
	'',
	"d5c639d1-11f2-48cd-a884-71f2333810fc",
	'');
INSERT INTO S_DT_PROXY
	VALUES ("cafec5d5-16a2-4bdd-9339-b4d98d011baa",
	"00000000-0000-0000-0000-000000000000",
	'EntryTicketState',
	'',
	'',
	'../../../../../../../CarPark/models/CarPark/SharedTypes/SharedTypes.xtuml');
INSERT INTO O_TFR
	VALUES ("5934191a-5882-484c-ad95-60dcae2d09da",
	"4c19c8d4-3363-474a-ac24-e179d2242f14",
	'CheckActivation',
	'When invoked, search any existing notifications looking for a match.',
	"ba5eda7a-def5-0000-0000-000000000000",
	1,
	'// Observe that operator console for the specified entry/exit station is activated with correct data.
select one observation related by self->Observation[R400]; 
select any activ from instances of Activation;  // need a typed local variable

if ( not self.active )  // a deactivate - nothing more to check
  select any activ from instances of Activation
   where ( selected.location == self.location )
   and ( not selected.active );
else
  // find an activation matching expected values...
  if ( self.stand == "Entry" )
    select any activ from instances of Activation
     where ( selected.location == self.location )
     and ( selected.barrier == self.barrier )
     and ( selected.ticketEntry == self.ticketEntry )
     and (selected.active );
  else
    select any activ from instances of Activation
     where ( selected.location == self.location )
     and ( selected.barrier == self.barrier )
     and ( selected.ticketExit == self.ticketExit )
     and ( selected.active );
  end if;
end if;
if ( not_empty activ )
  LOG::LogInfo( message:" --- Activation data checked " + "for " + self.location );
  observation.Complete( success:True );
  delete object instance activ;
end if;',
	1,
	'',
	"d6f2577d-b5d5-40a0-ba8c-28c2ad4699f6",
	0);
INSERT INTO O_TFR
	VALUES ("d6f2577d-b5d5-40a0-ba8c-28c2ad4699f6",
	"4c19c8d4-3363-474a-ac24-e179d2242f14",
	'CreateExit',
	'Add an observation of this type to the ''script'' of a test case.
See Observation.AppendPolling for description.',
	"ba5eda7a-def5-0000-0000-000000000000",
	0,
	'create object instance activ of ActivityCheck;

create object instance observation of Observation;
relate activ to observation across R400;
activ.location = param.location;
activ.stand = "Exit";
activ.active = param.activate;
activ.barrier = param.barrier;
activ.ticketExit = param.ticket;

observation.AddImmediate( seqLabel:param.seqLabel, pollInterval:1, timeLimit:5, concurrent:True );',
	1,
	'',
	"eadca89d-13b0-451f-8e67-7a61adfb9b22",
	0);
INSERT INTO O_TPARM
	VALUES ("7e1c529a-7596-4575-886f-539a49eb8391",
	"d6f2577d-b5d5-40a0-ba8c-28c2ad4699f6",
	'location',
	"ba5eda7a-def5-0000-0000-000000000004",
	0,
	'',
	"98f880d4-8ab2-44ce-afc7-59155522127b",
	'');
INSERT INTO O_TPARM
	VALUES ("98f880d4-8ab2-44ce-afc7-59155522127b",
	"d6f2577d-b5d5-40a0-ba8c-28c2ad4699f6",
	'activate',
	"ba5eda7a-def5-0000-0000-000000000001",
	0,
	'',
	"4883859a-95fb-42c5-9262-5daf33c74d32",
	'Indicate whether to check for activate or deactivate.');
INSERT INTO O_TPARM
	VALUES ("4883859a-95fb-42c5-9262-5daf33c74d32",
	"d6f2577d-b5d5-40a0-ba8c-28c2ad4699f6",
	'seqLabel',
	"ba5eda7a-def5-0000-0000-000000000004",
	0,
	'',
	"00000000-0000-0000-0000-000000000000",
	'');
INSERT INTO O_TPARM
	VALUES ("cdc4e03b-0b58-4655-a2c2-52ef702408f4",
	"d6f2577d-b5d5-40a0-ba8c-28c2ad4699f6",
	'barrier',
	"f0c65a10-2e1e-4a19-8c3f-db9b478b5038",
	0,
	'',
	"7e1c529a-7596-4575-886f-539a49eb8391",
	'');
INSERT INTO O_TPARM
	VALUES ("5f7519aa-8c05-4397-b9d1-bee6314cc611",
	"d6f2577d-b5d5-40a0-ba8c-28c2ad4699f6",
	'ticket',
	"9eade303-9285-4f04-b713-0845aa0189ab",
	0,
	'',
	"cdc4e03b-0b58-4655-a2c2-52ef702408f4",
	'');
INSERT INTO S_DT_PROXY
	VALUES ("9eade303-9285-4f04-b713-0845aa0189ab",
	"00000000-0000-0000-0000-000000000000",
	'ExitTicketState',
	'',
	'',
	'../../../../../../../CarPark/models/CarPark/SharedTypes/SharedTypes.xtuml');
INSERT INTO O_NBATTR
	VALUES ("6d0bded4-78f3-45c6-be2f-394eadb0bf6b",
	"4c19c8d4-3363-474a-ac24-e179d2242f14");
INSERT INTO O_BATTR
	VALUES ("6d0bded4-78f3-45c6-be2f-394eadb0bf6b",
	"4c19c8d4-3363-474a-ac24-e179d2242f14");
INSERT INTO O_ATTR
	VALUES ("6d0bded4-78f3-45c6-be2f-394eadb0bf6b",
	"4c19c8d4-3363-474a-ac24-e179d2242f14",
	"d7f04946-737b-49db-a498-6ae70712df04",
	'location',
	'',
	'',
	'location',
	0,
	"ba5eda7a-def5-0000-0000-000000000004",
	'',
	'');
INSERT INTO O_NBATTR
	VALUES ("d7f04946-737b-49db-a498-6ae70712df04",
	"4c19c8d4-3363-474a-ac24-e179d2242f14");
INSERT INTO O_BATTR
	VALUES ("d7f04946-737b-49db-a498-6ae70712df04",
	"4c19c8d4-3363-474a-ac24-e179d2242f14");
INSERT INTO O_ATTR
	VALUES ("d7f04946-737b-49db-a498-6ae70712df04",
	"4c19c8d4-3363-474a-ac24-e179d2242f14",
	"00000000-0000-0000-0000-000000000000",
	'active',
	'If True, this represents activation; if False, deactivation.',
	'',
	'active',
	0,
	"ba5eda7a-def5-0000-0000-000000000001",
	'',
	'');
INSERT INTO O_NBATTR
	VALUES ("7832a9f0-8e38-4e09-af95-8fbbe4ec149b",
	"4c19c8d4-3363-474a-ac24-e179d2242f14");
INSERT INTO O_BATTR
	VALUES ("7832a9f0-8e38-4e09-af95-8fbbe4ec149b",
	"4c19c8d4-3363-474a-ac24-e179d2242f14");
INSERT INTO O_ATTR
	VALUES ("7832a9f0-8e38-4e09-af95-8fbbe4ec149b",
	"4c19c8d4-3363-474a-ac24-e179d2242f14",
	"60431b81-e0df-40f9-afe2-d6b169850189",
	'barrier',
	'',
	'',
	'barrier',
	0,
	"f0c65a10-2e1e-4a19-8c3f-db9b478b5038",
	'',
	'');
INSERT INTO O_NBATTR
	VALUES ("6deefe64-c959-4dd2-8b2c-0263ba40201c",
	"4c19c8d4-3363-474a-ac24-e179d2242f14");
INSERT INTO O_BATTR
	VALUES ("6deefe64-c959-4dd2-8b2c-0263ba40201c",
	"4c19c8d4-3363-474a-ac24-e179d2242f14");
INSERT INTO O_ATTR
	VALUES ("6deefe64-c959-4dd2-8b2c-0263ba40201c",
	"4c19c8d4-3363-474a-ac24-e179d2242f14",
	"7832a9f0-8e38-4e09-af95-8fbbe4ec149b",
	'ticketEntry',
	'',
	'',
	'ticketEntry',
	0,
	"cafec5d5-16a2-4bdd-9339-b4d98d011baa",
	'',
	'');
INSERT INTO O_NBATTR
	VALUES ("ea1407eb-e2f5-4b36-873f-1404ae1ee71a",
	"4c19c8d4-3363-474a-ac24-e179d2242f14");
INSERT INTO O_BATTR
	VALUES ("ea1407eb-e2f5-4b36-873f-1404ae1ee71a",
	"4c19c8d4-3363-474a-ac24-e179d2242f14");
INSERT INTO O_ATTR
	VALUES ("ea1407eb-e2f5-4b36-873f-1404ae1ee71a",
	"4c19c8d4-3363-474a-ac24-e179d2242f14",
	"6deefe64-c959-4dd2-8b2c-0263ba40201c",
	'ticketExit',
	'',
	'',
	'ticketExit',
	0,
	"9eade303-9285-4f04-b713-0845aa0189ab",
	'',
	'');
INSERT INTO O_NBATTR
	VALUES ("60431b81-e0df-40f9-afe2-d6b169850189",
	"4c19c8d4-3363-474a-ac24-e179d2242f14");
INSERT INTO O_BATTR
	VALUES ("60431b81-e0df-40f9-afe2-d6b169850189",
	"4c19c8d4-3363-474a-ac24-e179d2242f14");
INSERT INTO O_ATTR
	VALUES ("60431b81-e0df-40f9-afe2-d6b169850189",
	"4c19c8d4-3363-474a-ac24-e179d2242f14",
	"6d0bded4-78f3-45c6-be2f-394eadb0bf6b",
	'stand',
	'Whether an entry or exit.',
	'',
	'stand',
	0,
	"ba5eda7a-def5-0000-0000-000000000004",
	'',
	'');
INSERT INTO O_ID
	VALUES (0,
	"4c19c8d4-3363-474a-ac24-e179d2242f14");
INSERT INTO O_ID
	VALUES (1,
	"4c19c8d4-3363-474a-ac24-e179d2242f14");
INSERT INTO O_ID
	VALUES (2,
	"4c19c8d4-3363-474a-ac24-e179d2242f14");
INSERT INTO PE_PE
	VALUES ("4c19c8d4-3363-474a-ac24-e179d2242f14",
	1,
	"3430745e-1746-4e96-ac58-2ee3ee684b20",
	"00000000-0000-0000-0000-000000000000",
	4);
INSERT INTO EP_PKG_PROXY
	VALUES ("3430745e-1746-4e96-ac58-2ee3ee684b20",
	"00000000-0000-0000-0000-000000000000",
	"87ff681e-390e-45ca-9f9c-e0259790ea6c",
	'Testbench',
	'',
	0,
	'../Testbench.xtuml');
