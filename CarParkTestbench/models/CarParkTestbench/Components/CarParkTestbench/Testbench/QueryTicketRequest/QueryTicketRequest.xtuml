-- BP 7.1.6 content: ModelClass syschar: 3 persistence-version: 7.1.6

INSERT INTO O_OBJ
	VALUES ("0e3e5f3b-eb5c-42ea-b147-598d65f82154",
	'QueryTicketRequest',
	13,
	'QueryTicketRequest',
	'Check whether a a ticket request will be accepted.',
	"00000000-0000-0000-0000-000000000000");
INSERT INTO O_TFR
	VALUES ("03babdb5-d972-403b-bd28-cf8322b92453",
	"0e3e5f3b-eb5c-42ea-b147-598d65f82154",
	'Create',
	'Add an observation of this type to the ''script'' of a test case.
See Observation.AppendPolling for description.',
	"ba5eda7a-def5-0000-0000-000000000000",
	0,
	'// Add an observation to check whether ticket request is enabled or not at the specified entry stand.

create object instance request of QueryTicketRequest;
request.location = param.location;
request.enabled = param.enabled;

create object instance observation of Observation;
relate request to observation across R400;

observation.Add( seqLabel:param.seqLabel, 
                 pollInterval:0, 
                 timeLimit:0, 
                 key:"TicketRequest", 
                 concurrent:True );',
	1,
	'',
	"00000000-0000-0000-0000-000000000000",
	0);
INSERT INTO O_TPARM
	VALUES ("ed190f13-fd8b-49de-be9a-b88a7918880d",
	"03babdb5-d972-403b-bd28-cf8322b92453",
	'seqLabel',
	"ba5eda7a-def5-0000-0000-000000000004",
	0,
	'',
	"00000000-0000-0000-0000-000000000000",
	'');
INSERT INTO O_TPARM
	VALUES ("129ab8f2-4e79-4158-a49f-01d00d986452",
	"03babdb5-d972-403b-bd28-cf8322b92453",
	'location',
	"ba5eda7a-def5-0000-0000-000000000004",
	0,
	'',
	"ed190f13-fd8b-49de-be9a-b88a7918880d",
	'');
INSERT INTO O_TPARM
	VALUES ("efb8b771-8c7c-4a7b-b6c0-24ec60199dc4",
	"03babdb5-d972-403b-bd28-cf8322b92453",
	'enabled',
	"ba5eda7a-def5-0000-0000-000000000001",
	0,
	'',
	"129ab8f2-4e79-4158-a49f-01d00d986452",
	'Select whether ticket request status is being checked for enabled or disabled.');
INSERT INTO O_TFR
	VALUES ("d5b99798-45e4-42a9-bb97-6556014b48e4",
	"0e3e5f3b-eb5c-42ea-b147-598d65f82154",
	'CheckRequest',
	'When invoked, search any existing notifications looking for a match.',
	"ba5eda7a-def5-0000-0000-000000000000",
	1,
	'LOG::LogInfo( message:" --- Checking ticket request status for entry stand at " + self.location );
select one observation related by self->Observation[R400]; 

select any request from instances of ReceivedTicketRequest
 where ( selected.location == self.location )
 and ( selected.enabled == self.enabled );
if ( not_empty request )
  observation.Complete( success:True );
  delete object instance request;
else
  observation.Complete( success:False );
end if;',
	1,
	'',
	"03babdb5-d972-403b-bd28-cf8322b92453",
	0);
INSERT INTO O_NBATTR
	VALUES ("9d794e3d-1e4d-48ff-aac3-0c40cd0fe901",
	"0e3e5f3b-eb5c-42ea-b147-598d65f82154");
INSERT INTO O_BATTR
	VALUES ("9d794e3d-1e4d-48ff-aac3-0c40cd0fe901",
	"0e3e5f3b-eb5c-42ea-b147-598d65f82154");
INSERT INTO O_ATTR
	VALUES ("9d794e3d-1e4d-48ff-aac3-0c40cd0fe901",
	"0e3e5f3b-eb5c-42ea-b147-598d65f82154",
	"00000000-0000-0000-0000-000000000000",
	'location',
	'Location of the entry stand where request status is to be checked.',
	'',
	'location',
	0,
	"ba5eda7a-def5-0000-0000-000000000004",
	'',
	'');
INSERT INTO O_NBATTR
	VALUES ("b43a7981-eb52-425a-a6b8-d71739a69ad9",
	"0e3e5f3b-eb5c-42ea-b147-598d65f82154");
INSERT INTO O_BATTR
	VALUES ("b43a7981-eb52-425a-a6b8-d71739a69ad9",
	"0e3e5f3b-eb5c-42ea-b147-598d65f82154");
INSERT INTO O_ATTR
	VALUES ("b43a7981-eb52-425a-a6b8-d71739a69ad9",
	"0e3e5f3b-eb5c-42ea-b147-598d65f82154",
	"9d794e3d-1e4d-48ff-aac3-0c40cd0fe901",
	'enabled',
	'',
	'',
	'enabled',
	0,
	"ba5eda7a-def5-0000-0000-000000000001",
	'',
	'');
INSERT INTO O_ID
	VALUES (0,
	"0e3e5f3b-eb5c-42ea-b147-598d65f82154");
INSERT INTO O_ID
	VALUES (1,
	"0e3e5f3b-eb5c-42ea-b147-598d65f82154");
INSERT INTO O_ID
	VALUES (2,
	"0e3e5f3b-eb5c-42ea-b147-598d65f82154");
INSERT INTO PE_PE
	VALUES ("0e3e5f3b-eb5c-42ea-b147-598d65f82154",
	1,
	"3430745e-1746-4e96-ac58-2ee3ee684b20",
	"00000000-0000-0000-0000-000000000000",
	4);
INSERT INTO EP_PKG_PROXY
	VALUES ("3430745e-1746-4e96-ac58-2ee3ee684b20",
	"00000000-0000-0000-0000-000000000000",
	"87ff681e-390e-45ca-9f9c-e0259790ea6c",
	'Testbench',
	'',
	0,
	'../Testbench.xtuml');
