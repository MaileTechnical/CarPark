-- BP 7.1.6 content: ModelClass syschar: 3 persistence-version: 7.1.6

INSERT INTO O_OBJ
	VALUES ("4c19c8d4-3363-474a-ac24-e179d2242f14",
	'EntryActivation',
	35,
	'EntryActivation',
	'An observation which checks for operator console activation/deactivation.',
	"00000000-0000-0000-0000-000000000000");
INSERT INTO O_TFR
	VALUES ("eadca89d-13b0-451f-8e67-7a61adfb9b22",
	"4c19c8d4-3363-474a-ac24-e179d2242f14",
	'Create',
	'Add an observation of this type to the ''script'' of a test case.
See Observation.AppendPolling for description.',
	"ba5eda7a-def5-0000-0000-000000000000",
	0,
	'create object instance activ of EntryActivation;

create object instance observation of Observation;
relate activ to observation across R400;
activ.location = param.location;
activ.active = param.activate;

observation.Add( seqLabel:param.seqLabel, pollInterval:0, timeLimit:0, key:"EntryActivation", concurrent:True );',
	1,
	'',
	"00000000-0000-0000-0000-000000000000",
	0);
INSERT INTO O_TPARM
	VALUES ("35facfc8-9a03-41b2-a427-13a8738849c4",
	"eadca89d-13b0-451f-8e67-7a61adfb9b22",
	'location',
	"ba5eda7a-def5-0000-0000-000000000004",
	0,
	'',
	"c4d44c2b-2f5c-41ef-b6b3-3edb040900a4",
	'');
INSERT INTO O_TPARM
	VALUES ("c4d44c2b-2f5c-41ef-b6b3-3edb040900a4",
	"eadca89d-13b0-451f-8e67-7a61adfb9b22",
	'activate',
	"ba5eda7a-def5-0000-0000-000000000001",
	0,
	'',
	"35627ff3-4470-448a-839e-9f2538fe0ee3",
	'Indicate whether to check for activate or deactivate.');
INSERT INTO O_TPARM
	VALUES ("35627ff3-4470-448a-839e-9f2538fe0ee3",
	"eadca89d-13b0-451f-8e67-7a61adfb9b22",
	'seqLabel',
	"ba5eda7a-def5-0000-0000-000000000004",
	0,
	'',
	"00000000-0000-0000-0000-000000000000",
	'');
INSERT INTO O_TPARM
	VALUES ("d5c639d1-11f2-48cd-a884-71f2333810fc",
	"eadca89d-13b0-451f-8e67-7a61adfb9b22",
	'barrier',
	"f0c65a10-2e1e-4a19-8c3f-db9b478b5038",
	0,
	'',
	"35facfc8-9a03-41b2-a427-13a8738849c4",
	'');
INSERT INTO S_DT_PROXY
	VALUES ("f0c65a10-2e1e-4a19-8c3f-db9b478b5038",
	"00000000-0000-0000-0000-000000000000",
	'BarrierState',
	'',
	'',
	'../../../../../../../CarPark/models/CarPark/SharedTypes/SharedTypes.xtuml');
INSERT INTO O_TPARM
	VALUES ("7ad94dfe-39b0-4825-9ab1-d150df8fd9ab",
	"eadca89d-13b0-451f-8e67-7a61adfb9b22",
	'ticket',
	"cafec5d5-16a2-4bdd-9339-b4d98d011baa",
	0,
	'',
	"d5c639d1-11f2-48cd-a884-71f2333810fc",
	'');
INSERT INTO S_DT_PROXY
	VALUES ("cafec5d5-16a2-4bdd-9339-b4d98d011baa",
	"00000000-0000-0000-0000-000000000000",
	'EntryTicketState',
	'',
	'',
	'../../../../../../../CarPark/models/CarPark/SharedTypes/SharedTypes.xtuml');
INSERT INTO O_TFR
	VALUES ("5934191a-5882-484c-ad95-60dcae2d09da",
	"4c19c8d4-3363-474a-ac24-e179d2242f14",
	'CheckActivation',
	'When invoked, search any existing notifications looking for a match.',
	"ba5eda7a-def5-0000-0000-000000000000",
	1,
	'// Observe that the operator console for the specified entry/exit station is activated/deactivated as appropriate.

LOG::LogInfo( message:" --- Checking for activation status " + "for " + self.location );
select one observation related by self->Observation[R400]; 

select any activ from instances of EntryActivation
 where ( selected.location == self.location );
if ( not_empty activ )
  if ( activ.active == self.active )
    observation.Complete( success:True );
  else
    observation.Complete( success:False );
  end if;
  delete object instance activ;
else
  observation.Complete( success:False );
end if;',
	1,
	'',
	"eadca89d-13b0-451f-8e67-7a61adfb9b22",
	0);
INSERT INTO O_NBATTR
	VALUES ("6d0bded4-78f3-45c6-be2f-394eadb0bf6b",
	"4c19c8d4-3363-474a-ac24-e179d2242f14");
INSERT INTO O_BATTR
	VALUES ("6d0bded4-78f3-45c6-be2f-394eadb0bf6b",
	"4c19c8d4-3363-474a-ac24-e179d2242f14");
INSERT INTO O_ATTR
	VALUES ("6d0bded4-78f3-45c6-be2f-394eadb0bf6b",
	"4c19c8d4-3363-474a-ac24-e179d2242f14",
	"d7f04946-737b-49db-a498-6ae70712df04",
	'location',
	'',
	'',
	'location',
	0,
	"ba5eda7a-def5-0000-0000-000000000004",
	'',
	'');
INSERT INTO O_NBATTR
	VALUES ("d7f04946-737b-49db-a498-6ae70712df04",
	"4c19c8d4-3363-474a-ac24-e179d2242f14");
INSERT INTO O_BATTR
	VALUES ("d7f04946-737b-49db-a498-6ae70712df04",
	"4c19c8d4-3363-474a-ac24-e179d2242f14");
INSERT INTO O_ATTR
	VALUES ("d7f04946-737b-49db-a498-6ae70712df04",
	"4c19c8d4-3363-474a-ac24-e179d2242f14",
	"00000000-0000-0000-0000-000000000000",
	'active',
	'If True, this represents activation; if False, deactivation.',
	'',
	'active',
	0,
	"ba5eda7a-def5-0000-0000-000000000001",
	'',
	'');
INSERT INTO O_NBATTR
	VALUES ("7832a9f0-8e38-4e09-af95-8fbbe4ec149b",
	"4c19c8d4-3363-474a-ac24-e179d2242f14");
INSERT INTO O_BATTR
	VALUES ("7832a9f0-8e38-4e09-af95-8fbbe4ec149b",
	"4c19c8d4-3363-474a-ac24-e179d2242f14");
INSERT INTO O_ATTR
	VALUES ("7832a9f0-8e38-4e09-af95-8fbbe4ec149b",
	"4c19c8d4-3363-474a-ac24-e179d2242f14",
	"6d0bded4-78f3-45c6-be2f-394eadb0bf6b",
	'barrier',
	'',
	'',
	'barrier',
	0,
	"f0c65a10-2e1e-4a19-8c3f-db9b478b5038",
	'',
	'');
INSERT INTO O_NBATTR
	VALUES ("6deefe64-c959-4dd2-8b2c-0263ba40201c",
	"4c19c8d4-3363-474a-ac24-e179d2242f14");
INSERT INTO O_BATTR
	VALUES ("6deefe64-c959-4dd2-8b2c-0263ba40201c",
	"4c19c8d4-3363-474a-ac24-e179d2242f14");
INSERT INTO O_ATTR
	VALUES ("6deefe64-c959-4dd2-8b2c-0263ba40201c",
	"4c19c8d4-3363-474a-ac24-e179d2242f14",
	"7832a9f0-8e38-4e09-af95-8fbbe4ec149b",
	'ticket',
	'',
	'',
	'ticket',
	0,
	"cafec5d5-16a2-4bdd-9339-b4d98d011baa",
	'',
	'');
INSERT INTO O_ID
	VALUES (0,
	"4c19c8d4-3363-474a-ac24-e179d2242f14");
INSERT INTO O_ID
	VALUES (1,
	"4c19c8d4-3363-474a-ac24-e179d2242f14");
INSERT INTO O_ID
	VALUES (2,
	"4c19c8d4-3363-474a-ac24-e179d2242f14");
INSERT INTO PE_PE
	VALUES ("4c19c8d4-3363-474a-ac24-e179d2242f14",
	1,
	"3430745e-1746-4e96-ac58-2ee3ee684b20",
	"00000000-0000-0000-0000-000000000000",
	4);
INSERT INTO EP_PKG_PROXY
	VALUES ("3430745e-1746-4e96-ac58-2ee3ee684b20",
	"00000000-0000-0000-0000-000000000000",
	"87ff681e-390e-45ca-9f9c-e0259790ea6c",
	'Testbench',
	'',
	0,
	'../Testbench.xtuml');
